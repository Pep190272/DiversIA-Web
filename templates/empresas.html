{% extends "base.html" %}

{% block title %}Empresas - DiversIA{% endblock %}
{% block meta_description %}Conecta con talento neurodivergente. Registra tu empresa y publica ofertas de empleo inclusivas.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section py-5" role="banner">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-5 fw-bold mb-4">Encuentra talento excepcional</h1>
                <p class="lead mb-5">
                    Conecta con profesionales neurodivergentes que aportan perspectivas únicas, 
                    creatividad e innovación a tu equipo.
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Benefits Section -->
<section class="benefits-section py-5" aria-labelledby="benefits-heading">
    <div class="container">
        <h2 id="benefits-heading" class="text-center mb-5">¿Por qué contratar talento neurodivergente?</h2>
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="benefit-card text-center">
                    <div class="benefit-icon mb-3">
                        <i data-lucide="lightbulb" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5">Pensamiento Innovador</h3>
                    <p>Diferentes formas de procesar información que generan soluciones creativas.</p>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="benefit-card text-center">
                    <div class="benefit-icon mb-3">
                        <i data-lucide="target" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5">Atención al Detalle</h3>
                    <p>Capacidad excepcional para detectar patrones y errores que otros pasan por alto.</p>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="benefit-card text-center">
                    <div class="benefit-icon mb-3">
                        <i data-lucide="trending-up" aria-hidden="true"></i>
                    </div>
                    <h3 class="h5">Mayor Productividad</h3>
                    <p>Estudios muestran incrementos del 20-30% en productividad con equipos diversos.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Registration Forms -->
<section class="forms-section py-5 bg-light" aria-labelledby="forms-heading">
    <div class="container">
        <h2 id="forms-heading" class="text-center mb-5">Únete a DiversIA</h2>
        <div class="row">
            <!-- Company Registration -->
            <div class="col-lg-6 mb-5">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title h5 mb-0">
                            <i data-lucide="building" aria-hidden="true"></i>
                            Registro de Empresa
                        </h3>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="{{ url_for('empresas') }}" novalidate>
                            {{ form.hidden_tag() }}
                            
                            <div class="mb-3">
                                {{ form.nombre_empresa.label(class="form-label") }}
                                {{ form.nombre_empresa(class="form-control" + (" is-invalid" if form.nombre_empresa.errors else "")) }}
                                {% if form.nombre_empresa.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.nombre_empresa.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ form.email_contacto.label(class="form-label") }}
                                {{ form.email_contacto(class="form-control" + (" is-invalid" if form.email_contacto.errors else "")) }}
                                {% if form.email_contacto.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in form.email_contacto.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ form.telefono.label(class="form-label") }}
                                    {{ form.telefono(class="form-control" + (" is-invalid" if form.telefono.errors else "")) }}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ form.ciudad.label(class="form-label") }}
                                    {{ form.ciudad(class="form-control" + (" is-invalid" if form.ciudad.errors else "")) }}
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ form.sector.label(class="form-label") }}
                                    {{ form.sector(class="form-control" + (" is-invalid" if form.sector.errors else "")) }}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ form.tamano_empresa.label(class="form-label") }}
                                    {{ form.tamano_empresa(class="form-control" + (" is-invalid" if form.tamano_empresa.errors else "")) }}
                                </div>
                            </div>
                            
                            <!-- Política de Privacidad -->
                            <div class="mb-3">
                                <div class="form-check">
                                    {{ form.aceptar_privacidad(class="form-check-input" + (" is-invalid" if form.aceptar_privacidad.errors else "")) }}
                                    <label class="form-check-label" for="{{ form.aceptar_privacidad.id }}">
                                        He leído y acepto la <a href="{{ url_for('politica_privacidad') }}" target="_blank" class="text-decoration-none">Política de Privacidad</a>
                                    </label>
                                    {% if form.aceptar_privacidad.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.aceptar_privacidad.errors %}{{ error }}{% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">
                                <i data-lucide="check" aria-hidden="true"></i>
                                Registrar Empresa
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Job Offer Form -->
            <div class="col-lg-6 mb-5">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title h5 mb-0">
                            <i data-lucide="briefcase" aria-hidden="true"></i>
                            Publicar Oferta de Empleo
                        </h3>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="{{ url_for('crear_oferta') }}" novalidate>
                            {{ oferta_form.hidden_tag() }}
                            
                            <div class="mb-3">
                                {{ oferta_form.titulo_puesto.label(class="form-label") }}
                                {{ oferta_form.titulo_puesto(class="form-control" + (" is-invalid" if oferta_form.titulo_puesto.errors else "")) }}
                                {% if oferta_form.titulo_puesto.errors %}
                                    <div class="invalid-feedback">
                                        {% for error in oferta_form.titulo_puesto.errors %}{{ error }}{% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                            
                            <div class="mb-3">
                                {{ oferta_form.descripcion.label(class="form-label") }}
                                {{ oferta_form.descripcion(class="form-control", rows="4") }}
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ oferta_form.tipo_contrato.label(class="form-label") }}
                                    {{ oferta_form.tipo_contrato(class="form-control") }}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ oferta_form.modalidad_trabajo.label(class="form-label") }}
                                    {{ oferta_form.modalidad_trabajo(class="form-control") }}
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    {{ oferta_form.salario_min.label(class="form-label") }}
                                    {{ oferta_form.salario_min(class="form-control") }}
                                </div>
                                <div class="col-md-6 mb-3">
                                    {{ oferta_form.salario_max.label(class="form-label") }}
                                    {{ oferta_form.salario_max(class="form-control") }}
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                {{ oferta_form.requisitos.label(class="form-label") }}
                                {{ oferta_form.requisitos(class="form-control", rows="3") }}
                            </div>
                            
                            <div class="mb-3">
                                {{ oferta_form.adaptaciones_disponibles.label(class="form-label") }}
                                {{ oferta_form.adaptaciones_disponibles(class="form-control", rows="3") }}
                                <div class="form-text">Describe las adaptaciones que ofreces (ej: horarios flexibles, ambiente tranquilo, etc.)</div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">Neurodivergencias objetivo</label>
                                {% for subfield in oferta_form.neurodivergencias_target %}
                                    <div class="form-check">
                                        {{ subfield(class="form-check-input") }}
                                        {{ subfield.label(class="form-check-label") }}
                                    </div>
                                {% endfor %}
                            </div>
                            
                            <!-- Política de Privacidad -->
                            <div class="mb-3">
                                <div class="form-check">
                                    {{ oferta_form.aceptar_privacidad(class="form-check-input" + (" is-invalid" if oferta_form.aceptar_privacidad.errors else "")) }}
                                    <label class="form-check-label" for="{{ oferta_form.aceptar_privacidad.id }}">
                                        He leído y acepto la <a href="{{ url_for('politica_privacidad') }}" target="_blank" class="text-decoration-none">Política de Privacidad</a>
                                    </label>
                                    {% if oferta_form.aceptar_privacidad.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in oferta_form.aceptar_privacidad.errors %}{{ error }}{% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">
                                <i data-lucide="send" aria-hidden="true"></i>
                                Publicar Oferta
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Success Stories -->
<section class="success-stories py-5" aria-labelledby="stories-heading">
    <div class="container">
        <h2 id="stories-heading" class="text-center mb-5">Empresas que ya confían en nosotros</h2>
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="story-card">
                    <blockquote class="blockquote">
                        <p>"Contratar talento neurodivergente transformó nuestro equipo de desarrollo. La atención al detalle y las soluciones innovadoras han sido excepcionales."</p>
                        <footer class="blockquote-footer">
                            <cite>TechCorp Solutions</cite>
                        </footer>
                    </blockquote>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="story-card">
                    <blockquote class="blockquote">
                        <p>"DiversIA nos ayudó a encontrar profesionales que se adaptan perfectamente a nuestra cultura de trabajo inclusiva."</p>
                        <footer class="blockquote-footer">
                            <cite>Innovate Design Studio</cite>
                        </footer>
                    </blockquote>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="story-card">
                    <blockquote class="blockquote">
                        <p>"La diversidad cognitiva en nuestro equipo ha aumentado significativamente nuestra capacidad de resolución de problemas."</p>
                        <footer class="blockquote-footer">
                            <cite>Future Analytics</cite>
                        </footer>
                    </blockquote>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5 bg-primary text-white">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="mb-3">¿Listo para diversificar tu equipo?</h2>
                <p class="lead mb-4">
                    Únete a las empresas que ya están aprovechando el potencial del talento neurodivergente.
                </p>
                <a href="#forms-heading" class="btn btn-light btn-lg">
                    Comenzar ahora
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
